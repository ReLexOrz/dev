路径：
/usr/local/nginx

/usr/local/nginx/conf/nginx.d/websocket


检查配置
/usr/local/nginx/sbin
./nginx -t

重载
/usr/local/nginx/sbin
./nginx -s reload


//文件名
gohappy.qzzgame.conf

//典型内容

server {
        listen 80;
        server_name gohappy.qzzgame.com gohappy-prod.qzzgame.com;

        set $path  /home/www/all_games/make_happy;
        root $path;
        index index.html index.htm index.php;
         location / {
                 #请求转发到golang服务器
                proxy_pass http://127.0.0.1:8090;  # 这里的ip+端口就是我们启动golang的ip和端口
                #设置请求头，并将头信息传递给服务器端
                proxy_set_header Host $host;
                proxy_set_header X-Real-IP $remote_addr;
        }

        location /status {
                stub_status on;
        }

        location /theme{
                root $path;
        }

         location ~ .*\.(php|php5)?$ {
                try_files $uri =404;
                fastcgi_pass 127.0.0.1:9000;
                fastcgi_index index.php;
                include fastcgi.conf;
        }

        error_page   500 502 503 504  /50x.html;
        location = /50x.html {
                root   html;
        }
}



认证


         #ssl on;
         ssl_certificate /usr/local/nginx/httpsssl/new-quzzgames.com.pem;
         ssl_certificate_key /usr/local/nginx/httpsssl/new-quzzgames.com.key;
         ssl_session_timeout 5m;
         ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
         ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;
         ssl_prefer_server_ciphers on;